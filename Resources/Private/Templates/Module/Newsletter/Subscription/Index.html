{namespace ps=Psmb\Newsletter\ViewHelpers}
{namespace neos=TYPO3\Neos\ViewHelpers}
<f:layout name="Default"/>

<f:section name="headScripts">
</f:section>

<f:section name="Title"></f:section>

<f:section name="Content">
    <div class="psmb-newsletter neos-main neos-row-fluid">
        <table class="neos-table">
            <thead>
            <tr>
                <th width="20">&nbsp;</th>
                <th>{neos:backend.translate(id: 'newsletter.subscriptions.subscription.name', source: 'Modules', package: 'Psmb.Newsletter')}</th>
                <th>{neos:backend.translate(id: 'newsletter.subscriptions.subscription.base', source: 'Modules', package: 'Psmb.Newsletter')}</th>
                <th>{neos:backend.translate(id: 'newsletter.subscriptions.subscription.subscriberCount', source: 'Modules', package: 'Psmb.Newsletter')}</th>
                <th>&nbsp;</th>
            </tr>
            </thead>
            <f:for each="{subscriptions}" as="subscription" iteration="subscriptionIterator">
                <tr>
                    <td class="neos-workspace-type">
                        <i class="icon-paper-plane" title="{neos:backend.translate(id: 'workspaces.personalWorkspace', source: 'Modules', package: 'TYPO3.Neos')}" data-neos-toggle="tooltip"></i>
                    </td>
                    <td>
                        <span title="{subscription.name}" data-neos-toggle="tooltip">{subscription.name -> f:format.crop(maxCharacters: 25, append: 'â€¦')}</span>
                    </td>
                    <td>
                        <span class="neos-label">{subscription.fusionIdentifier}</span>
                    </td>
                    <td>
                        <f:count>{subscription.subscribers}</f:count>
                    </td>
                    <td class="neos-action">
                        <div class="neos-dropdown">
                            <a class="dropdown-toggle neos-button neos-button-mini" href="#" data-neos-toggle="dropdown">
                                <i class="icon-ellipsis-horizontal"></i>
                            </a>
                            <div class="neos-dropdown-menu-list neos-pull-right" role="menu">
                                <ul>
                                    <li>
                                        <f:link.action action="edit" arguments="{subscription: subscription}" title="Click to edit">
                                            <i class="icon-pencil icon-white"></i> Edit
                                        </f:link.action>
                                    </li>
                                    <li>
                                        <f:link.action action="delete" arguments="{subscription: subscription}" title="Click to delete">
                                            <i class="icon-trash icon-white"></i> Delete
                                        </f:link.action>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </td>
                </tr>
            </f:for>
        </table>
    </div>
    <div class="neos-footer">
        <f:link.action action="new" class="neos-button neos-button-primary">{neos:backend.translate(id: 'newsletter.subscriptions.new', source: 'Modules', package: 'Psmb.Newsletter')}</f:link.action>
    </div>
</f:section>

<f:section name="Scripts"></f:section>